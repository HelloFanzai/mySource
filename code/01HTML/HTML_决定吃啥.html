<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        // let theList = [ '小时代','24味','西安风味','成都7味面','快乐小羊','TUFU HOUSE','KBG BBQ']
        let theList = [ '24味','泡泡爱','脚力比','意大利','汉堡王','Shake Shack']
        let theTaggle = true
        function eatWhat() {
            let theINdex = ~~(Math.random() * theList.length)
            document.getElementById("theList").innerHTML = theList
            document.getElementById("theId").innerHTML = +theINdex + theList[theINdex]
        }
        // eatWhat()
        let theEat

        function stopTheFn() {
            if (theTaggle) {
                theEat = setInterval(eatWhat, 50)
                theTaggle = false
                document.getElementById("theBtn").textContent = '停~~'
            } else {
                clearInterval(theEat)
                theTaggle = true
                document.getElementById("theBtn").textContent = '吃啥？'

            }
            console.log(theTaggle);
        }

        function the5SCounter() {
            let i = 3
            document.getElementById("theList").innerHTML = theList
            document.getElementById('theBtn2').disabled = true
            theEat = setInterval(eatWhat, 50)
            function the1SFn() {
                setTimeout(() => {
                    document.getElementById('theBtn2').innerHTML=i
                    if (i >=1) {
                        document.getElementById("theCounter").innerHTML = +i
                        --i
                        console.log(i);
                        return the1SFn()
                    } else {
                        document.getElementById("theCounter").innerHTML = ' '
                        document.getElementById('theBtn2').innerHTML='吃啥?(3S自动停)'
                        document.getElementById('theBtn2').disabled = false
                        return clearInterval(theEat)
                    }
                }, 1000);
            }
            the1SFn()
        }

    </script>
</head>

<body>
    <div style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); text-align: center;">
        <h1 id="theList"></h1>
        <h1 style="display: inline; color: crimson;" id="theCounter"></h1>
        <br> &nbsp; <h1 style="display: inline;" id="theId"></h1>
        
        <br>
        <button style="height: 15vh; width: 33vw;" id="theBtn" onclick="stopTheFn()"> 吃啥?(手动停) </button>
        <button style="height: 15vh; width: 33vw;" id="theBtn2" onclick="the5SCounter()"> 吃啥?(3S自动停) </button>
    </div>

</body>

</html>